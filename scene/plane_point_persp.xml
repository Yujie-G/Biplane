<?xml version='1.0' encoding='utf-8'?>

<scene version="0.6.0">
	<integrator type="path_separate">
		<integer name="integrationType" value="2"/>
		<integer name="maxDepth" value="2"/>
	</integrator>
	<!-- <integrator type="volpath"/> -->

	<sensor type="perspective">
		<float name="nearClip" value="0.1"/>
		<float name="farClip" value="100"/>

		<transform name="toWorld">
			<scale x="1." y="1."/>
			<lookat origin="0, 0, -3" up="0, -1, 0" target="0, 0, 0"/>
		</transform>

		<sampler type="ldsampler">
			<integer name="sampleCount" value="1"/>
			<integer name="seed" value="0"/>
		</sampler>

		<film type="hdrfilm">
			<string name="pixelFormat" value="rgb"/>
			<boolean name="banner" value="false"/>
			<integer name="height" value="1024"/>
			<integer name="width" value="1024"/>

			<rfilter type="box"/>
		</film>
	</sensor>

	<emitter type="point" id="pointlight">
		<transform name="toWorld">
			<translate x="0" z="-3" y="0"/>
			<!-- <translate x="3" y="5" z="-6.413"/> -->
		</transform>
		<spectrum name="intensity" value="100"/>
		<!-- <spectrum name="intensity" value="1000"/> -->
	</emitter>

	<bsdf type="decoder_gaussian" id="dummy">
		<integer name="index" value="0"/>
		<string name="checkpointPath" value="$model_path"/>
        <!-- <string name="checkpointPath" value="/root/autodl-tmp/torch/saved_model/#compress_only-offset_depth-datagen_rockRoad_synthetic-scale0.5-tmp-epoch-30-0101_163935/epoch-50/epoch-50.pth"/> -->
		<float name="sigma" value="0.0"/>
		<float name="amp" value="0.0"/>
	</bsdf>


	<!-- <bsdf type="ubo2014_bsdfList_allrandom" id="ubo">
		<boolean name="useTriangulation" value="true"/>
		<string name="ubo_path" value="/root/autodl-tmp/BTF_resampled/fabric05_resampled_W400xH400_L151xV151.btf"/>
		<integer name="available_texels_u" value="400"/>
		<integer name="available_texels_v" value="400"/>
		<integer name="offset_texels_u" value="0"/>
		<integer name="offset_texels_v" value="0"/>
		<integer name="u_interval" value="1"/>
		<integer name="v_interval" value="1"/>
		<string name="interpType" value="bilinear"/>
	</bsdf> -->

	<!-- <bsdf type="multilayered" id="layered">
		<boolean name="bidir" value="true"/>
		<string name="pdf" value="bidirStochTRT"/>
		<integer name="maxDepth" value="-1"/>
		<integer name="stochPdfDepth" value="2"/>
		<integer name="pdfRepetitive" value="1"/>
		<float name="diffusePdf" value="0.1"/>
		<float name="maxSurvivalProb" value="1.0"/>
		<integer name="nbLayers" value="2"/>
		<boolean name="aniso_0" value="false"/>

		<phase name="phase_0" type="hg">
			<float name="g" value="0"/>
		</phase>

		<spectrum name="sigmaT_0" value="1"/>
		<texture name="albedo_tex_0" type="bitmap">
			<string name="filename" value="/test/repositories/mitsuba-pytorch-tensorNLB/mitsuba0.6-tensorNLB/scene/globe/100x100[4x4].exr"/>
			<string name="filterType" value="nearest"/>
		</texture>
		
		<bsdf name="surface_0" type="roughdielectric">
			<float name="intIOR" value="1.37"/>
			<float name="alpha" value="0.04"/>
			<string name="distribution" value="ggx"/>
			<rgb name="specularReflectance" value="1 1 1"/>
			<rgb name="specularTransmittance" value="1 1 1"/>
		</bsdf>
		
		<bsdf name="surface_1" type="roughconductorApprox">
			<float name="alpha" value="0.49"/>
			<string name="distribution" value="ggx"/>
			<rgb name="specularReflectance" value="1 1 1"/>
			<rgb name="R0" value="0.02 0.84 0.41"/>
		</bsdf>
	</bsdf> -->

	<!-- <bsdf type="normalmap" id="roughdiff">
		<bsdf type="roughdiffuse" >
			<texture name="alpha" type="bitmap">
				<string name="filename" value="/test/repositories/mitsuba-pytorch-tensorNLB/mitsuba0.6-tensorNLB/scene/concrete/Concrete_Blocks_004_roughness.jpg"/>
				<float name="gamma" value="1.0"/>
			</texture>
			<string name="distribution" value="ggx"/>
			<texture name="reflectance" type="bitmap">
				<string name="filename" value="/test/repositories/mitsuba-pytorch-tensorNLB/mitsuba0.6-tensorNLB/scene/concrete/Concrete_Blocks_004_basecolor.jpg"/>
				<string name="filterType" value="bilinear"/>
			</texture>
		</bsdf>
		<texture type="bitmap">
			<string name="filename" value="/test/repositories/mitsuba-pytorch-tensorNLB/mitsuba0.6-tensorNLB/scene/concrete/Concrete_Blocks_004_normal.jpg"/>
			<float name="gamma" value="1.0"/>
		</texture>
	</bsdf>

	<texture type="bitmap" id="displacement">
		<string name="filename" value="/test/repositories/mitsuba-pytorch-tensorNLB/mitsuba0.6-tensorNLB/scene/concrete/Concrete_Blocks_004_height.png"/>
		<float name="gamma" value="1.0"/>
	</texture>

	<shape type="heightfield">
		<transform name="toWorld">
			<translate x="0" y="0" z="-0.3"/>
			<scale x="1.15" y="1.15" z="1"/>
			<rotate x="1" angle="180"/>
		</transform>
		<ref id="roughdiff"/>
		
		<ref id="displacement"/>
		<float name="scale" value="1.5"/>
	</shape> -->

	<!-- <bsdf type="roughconductorApprox" id="roughcond">
		<float name="alpha" value="0.1"/>
		<string name="distribution" value="ggx"/>
		<rgb name="specularReflectance" value="1 1 1"/>
		<texture name="R0" type="bitmap">
			<string name="filename" value="/test/repositories/mitsuba-pytorch-tensorNLB/mitsuba0.6-tensorNLB/scene/metal/metal.exr"/>
			<string name="filterType" value="bilinear"/>
		</texture>
	</bsdf> -->

	<shape type="rectangle">
		<boolean name="flipNormals" value="true"/>
		<!-- <ref id="ubo"/> -->
		<!-- <ref id="layered"/> -->
		 <ref id="dummy"/>
		<!-- <ref id="roughdiff"/> -->
		<!-- <ref id="roughcond"/> -->
	</shape>

</scene>
